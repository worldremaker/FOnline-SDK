Маппер.

Для запуска маппера переместите его в папку клиента.

Для загрузки карты введите в консоли "~<map name>".
Для сохранения "^<map name> [/text] [/nopack]". "/text" - для сохранения в текстовом формате, "/nopack" - для сохранения без запаковки.

Другие команды "*":
 new		создание новой карты;
 unload		выгрузка текущей карты;
 scripts	перезагрузка скриптов;
 size <w> <h>	установка новых размеров карты;
 dupl		поиск итемов, которые стоят на одном гексе и имеют одинаковый номер прототипа;
 scroll		поиск скроллблокеров, вокруг которых меньше двух скроллблокеров;
 pidpos <pid>	поиск всех позиций для данного номера прототипа;
 hex <hx> <hy>	поиск всех обектов стоящих на заданном гексе.

Для выполнения скриптовой функции используйте "#", спецификация функции: "string FuncName(string)", аргумент это передаваемая строка из консоли, а результат будет выведен в окне сообщений. Модуль по-умолчанию "mapper_main", для вызова из других модулей допищите его перез функцией с разделителем "@" (пример "#module@MyFunc").
Пример:
консоль "#MyFunc Hello wo";
скрипт "string MyFunc(string my) { return my + "rld!"; }";
результат в окне сообщений "Result: Hello world!".

Скрипты находятся в папке сервера. Главный скрипт - mapper_main.fos, он содержит зарезервированные функции, а так же справку по API скриптов маппера.

Маппер не поддерживает форматы F1, F2 и старые форматы карт FOnline.

Сверху галавной панели, находится область кнопок объектов, которые сгруппированы по типам.
Ниже этих кнопок находится панель видимости объектов на карте.
Справа находятся кнопки включения выделения объектов на карте.

Вкладки по-умолчанию:
Item - прототипы итемов по-умолчанию (items.lst);
Tile - тайлы по-умолчанию, поиск производится в 'art/tiles/';
Crit - прототипы криттеров по-умолчанию (critters.lst);
Fast - отображает часто используемые объекты;
Ign - Ignore, показывает игнорируемые объекты, которые не отрисовываются на карте;
Inv - Inventory, показывает инвентарь криттера или контейнера;
Msg - окно сообщений;
Map - показывает загруженные карты, между которыми можно переключаться.

Для активации меню выбора вкладки кликните по ней два раза. Если позиций очень много, то используйте колесо мыши для навигации (скорость скорлла: обычный скролл - 4, с зажатым шифтом - 8, контролом - 20, альтом - 50).
Для добавления своих вкладок используйте скрипты, функции Tab*.

При выборе объекта появляется панель редактирования, где можно изменить значение некоторых полей (помечены зеленым, не редактируемые - белым).

Для добавления/удаления объекта в игнор лист - зажмите контрол и кликните на нем (в панели выбора объектов) левой кнопкой мыши.
Для добавления/удаления объекта в инвентарь - зажмите альт и кликните на нем (в панели выбора объектов) левой кнопкой мыши.
Для установки криттеру итема в слот - зажмите Shift и выберите нужный итем у него в инвентаре.

Для того, чтобы присвоить значение группе однородных объектов (по типу объекта) включите функцию To All нажав одноименную кнопку в панели редактирования объекта.

Для удаления объекта(-ов) выберите их и нажмите клавишу Del.

Для изменения направления криттеров используйте среднюю кнопку мыши.

Для добавления в выделение объектов удерживайте Ctrl.

Для изменения масштаба карты воспользуйтесь колесиком мыши.

Для ускорения пролистывания зажмите следующую клавишу (без зажатия - 1):
Shift - одна страница,
Ctrl - 100 элементов,
Alt - 1000 элементов.

Для воспроизведения анимаций криттеров используйте команду '@', после которой вводите нужные индексы анимаций для проигрывания, в порядке очереди. Например, для проигрывания анимации передвижения, а потом анимации использования введите "@1 3 1 28". Анимации проиграются у тех криттеров, которые выделены, а если ничего не выделено, то проиграется у всех криттеров на карте. Индексы анимаций приведены в скрипте _animation.fos, см. ANIM1_* и ANIM2_*.

Для передвижения криттера зажмите Shift и выберите точку назначения, для бега кликните еще раз.

Для смещения объектов на карте или тайлов зажмите Shift.
Для сброса смещений в ноль зажмите Shift и Alt, пробуйте сдвинуть объекты.

Для смены слоя тайлов/крыши зажмите Shift, потом нажмите клавишу с номером нужного слоя (0, 1, 2, 3 или 4).

Горячие клавиши:
F1: Вкл./Выкл. отображение итемов.
F2: Вкл./Выкл. отображение сценери.
F3: Вкл./Выкл. отображение стен.
F4: Вкл./Выкл. отображение криттеров.
F5: Вкл./Выкл. отображение тайлов.
F6: Вкл./Выкл. отображение часто используемые объекты.
F7: Скрыть/Показать главную панель.
Shift + F7: Вкл./Выкл. фиксацию главной панели (по умолчанию включено).
F8: Вкл./Выкл. скролл мышкой.
F9: Скрыть/Показать панель редактирования объекта.
Shift + F9: Вкл./Выкл. фиксацию панели редактирования объекта (по умолчанию выключено).
F10: Вкл./Выкл. хексовую сетку.
Shift + F10: Дождь.
Shift + Escape: Выход из редактора.
Del: Удалить выбранные объекты.
Ctrl + X: Вырезать объекты.
Ctrl + C: Копировать объекты.
Ctrl + V: Вставить объекты.
Ctrl + A: Выделить всё.
Ctrl + S: Вкл./Выкл. режим ограничения скролла.
Ctrl + B: Показать непроходимые хексы. Красные - непроходимые, непростреливаемые. Зеленые - непроходимые, простреливаемые.
Ctrl + M: Вывести информацию по настройкам Нпц над их головами.
Ctrl + L: Сохранить текущий лог в txt файл.
Ctrl + Q: Просмотр типов углов (corners).
Ctrl + W: Просмотр результата нарезки спрайтов, их привязка к гексам.
Ctrl + E: Просмотр порядка отрисовки спрайтов.
Tab: Изменить тип выделения объектов (прямоугольник или ромб).
+: Увеличить время на 1 час (с зажатым Shift на 1 минуту).
-: Уменьшить время на 1 час (с зажатым Shift на 1 минуту).

Специальные точки входа:
0 - по-умолчанию;
240 - стартовая позиция игрока первый раз зашедшего в игру;
241 - позиция старта у карт с флагом NoLogOff;
242 - репликация;
243 - машины;
245 - вертиберд;
246 - лодки.

__________________________________________________________________________________
cvet
